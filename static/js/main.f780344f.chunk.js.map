{"version":3,"sources":["state/global/index.ts","hooks/useBreakpoint.ts","state/index.ts","theme/index.ts","icons/LogoIcon.tsx","icons/WhiteSearchIcon.svg","icons/BlackSearchIcon.svg","components/SearchBar.tsx","pages/Search/index.tsx","config.ts","hooks/useAsyncState.ts","utils/name.ts","hooks/useNom.ts","components/BlockText.tsx","utils/address.ts","components/BlockscoutTxLink.tsx","utils/toastTx.tsx","components/QRNameModal.tsx","constants.ts","components/BlockscoutAddressLink.tsx","pages/SearchDetail/index.tsx","hooks/useCUSD.ts","hooks/useNomFee.ts","pages/Reserve/index.tsx","pages/Extend/index.tsx","pages/Request/index.tsx","components/Logo.tsx","components/ConnectWallet.tsx","components/Header.tsx","hooks/useUserNoms.ts","components/Footer.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Page","Breakpoint","initialState","currentPage","SEARCH","setCurrentPage","createAction","createReducer","builder","addCase","state","action","nextPage","payload","store","configureStore","reducer","global","middleware","getDefaultMiddleware","thunk","preset","breakpoints","colors","purple25","purple50","purple100","purple300","purple400","black800","primaryText","secondaryBackground","primary","text","primaryButtonText","accent","background","secondary","muted","gray","darkgray","highlight","box","disabled","modes","dark","fonts","body","heading","monospace","fontSizes","lineHeights","space","letterSpacings","small","sizes","avatar","shadows","card","default","color","fontFamily","fontWeight","fontSize","lineHeight","variant","title","logo","letterSpacing","wallet","account","regular","regularGray","bold","form","fontStyle","subtitle","tableHeader","summaryTitle","largeNumber","reallyBigNumber","variants","width","height","borderRadius","nav","display","p","textDecoration","select","borderColor","borderWidth","input","buttons","cursor","bg","px","py","border","done","switcher","borderBottom","outline","mr","switcherSelected","styles","root","countdown","a","h1","cards","padding","boxShadow","compact","warning","backgroundColor","LogoIcon","size","viewBox","xmlns","d","useBreakpoint","theme","useThemeUI","useState","MOBILE","breakpoint","setBreakpoint","desktopBreakpoint","parseInt","useLayoutEffect","listener","window","innerWidth","DESKTOP","addEventListener","removeEventListener","SEARCH_HEIGHT","TRANSFORM","SearchBar","transform","searchInput","React","useRef","history","useHistory","useColorMode","colorMode","sx","content","position","BlackSearchIcon","WhiteSearchIcon","justifyContent","style","maxWidth","onSubmit","e","searchTerm","current","value","push","preventDefault","pl","ref","placeholder","type","Search","flexDirection","alignItems","mt","fill","as","mb","NOM","ChainId","Celo","Alfajores","Baklava","FEE_MODULE_V1","DEFAULT_GAS_PRICE","toWei","useAsyncState","asyncGetter","setState","dirty","setDirty","useEffect","then","v","catch","console","warn","formatName","name","toLowerCase","replace","useNom","useContractKit","kit","network","nameFormatted","useCallback","nom","web3","eth","Contract","NomMetadata","abi","chainId","methods","resolve","ethers","utils","formatBytes32String","call","resolution","nameOwner","owner","expirations","expiration","BlockText","props","shortenAddress","truncation","slice","length","BlockscoutTxLink","tx","children","target","rel","href","explorer","toastTx","toast","QRNameModal","address","isOpen","setIsOpen","onRequestClose","contentLabel","top","left","margin","textAlign","ZERO_ADDRESS","YEAR_IN_SECONDS","BlockscoutAddressLink","SearchDetail","useParams","getConnectedKit","refetchNom","changeResLoading","setChangeResLoading","changeOwnerLoading","setChangeOwnerLoading","showQR","setShowQR","sendCUSD","amount","cUSD","ERC20Metadata","transfer","send","from","defaultAccount","gasPrice","transactionHash","isOwner","ml","onClick","nextResolution","prompt","isAddress","alert","changeResolution","message","nextOwner","changeNameOwner","Date","toLocaleDateString","flexWrap","isNaN","Number","useCUSD","_web3Contracts","getStableToken","StableToken","toBN","allowance","balanceOf","balance","useNomFee","feeModule","FeeModuleV1Metadata","paymentRate","Reserve","years","setYears","cost","setCost","approveLoading","setApproveLoading","reserveLoading","setReserveLoading","refetchCUSD","nomFee","approveButton","approve","MaxUint256","toString","reserveButton","reserve","Math","floor","loading","button","fmtCost","costBN","lt","gt","goBack","onChange","fromWei","toFixed","Extend","extendLoading","setExtendLoading","extendButton","extend","Request","URLSearchParams","useLocation","search","get","fulfillLoading","setFulfillLoading","contracts","getHash","to","finally","readOnly","Logo","ConnectWallet","connect","Header","location","setColorMode","nomKit","NomKit","userNoms","useUserNoms","pathname","Footer","bottom","pb","App","Modal","setAppElement","exact","path","toastClassName","bodyClassName","Boolean","hostname","exec","process","REACT_APP_SENTRY_DSN","sentryCfg","environment","REACT_APP_VERCEL_ENV","release","REACT_APP_VERCEL_GIT_COMMIT_REF","REACT_APP_VERCEL_GIT_COMMIT_SHA","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","log","ReactDOM","render","StrictMode","dapp","description","url","icon","supportedNetworks","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.f780344f.chunk.js","sourcesContent":["import { createAction, createReducer } from \"@reduxjs/toolkit\";\n\n// Typings\nexport enum Page {\n  SEARCH = \"search\",\n  MANAGE = \"manage\",\n  STATS = \"stats\",\n}\n\ninterface GlobalState {\n  currentPage?: Page;\n}\n\nconst initialState: GlobalState = {\n  currentPage: Page.SEARCH,\n};\n\n// Actions\nexport const setCurrentPage = createAction<{ nextPage: Page }>(\n  \"global/setCurrentPage\"\n);\n\n// Reducer\nexport default createReducer(initialState, (builder) =>\n  builder.addCase(setCurrentPage, (state, action) => {\n    const { nextPage } = action.payload;\n    return { ...state, currentPage: nextPage };\n  })\n);\n","import { useLayoutEffect, useState } from \"react\";\nimport { useThemeUI } from \"theme-ui\";\n\nexport enum Breakpoint {\n  MOBILE = \"MOBILE\",\n  DESKTOP = \"DESKTOP\",\n}\n\nexport const useBreakpoint = () => {\n  const { theme } = useThemeUI();\n  const [breakpoint, setBreakpoint] = useState(Breakpoint.MOBILE);\n  const desktopBreakpoint = parseInt(theme.breakpoints![1] as string);\n\n  useLayoutEffect(() => {\n    const listener = () => {\n      if (window.innerWidth < desktopBreakpoint) {\n        setBreakpoint(Breakpoint.MOBILE);\n      } else {\n        setBreakpoint(Breakpoint.DESKTOP);\n      }\n    };\n    window.addEventListener(\"resize\", listener);\n    listener();\n    return () => window.removeEventListener(\"resize\", listener);\n  }, [desktopBreakpoint]);\n  return breakpoint;\n};\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport global from \"src/state/global\";\n\nconst store = configureStore({\n  reducer: {\n    global,\n  },\n  middleware: [...getDefaultMiddleware({ thunk: false })],\n});\n\nexport default store;\n\nexport type AppState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","export const preset = {\n  breakpoints: [\"1080px\", \"1080px\"],\n  colors: {\n    purple25: \"#F5F2FF\",\n    purple50: \"#ECE6FE\",\n    purple100: \"#CCC3FC\",\n    purple300: \"#7C71FC\",\n    purple400: \"#5352FC\",\n    black800: \"#363945\",\n\n    primaryText: \"#5352FC\",\n    secondaryBackground: \"#F5F2FF\",\n    primary: \"#5352FC\",\n\n    text: \"#333333\",\n    primaryButtonText: \"#FAFAFA\",\n    accent: \"#7C71FD\",\n    background: \"#fff\",\n    secondary: \"#bababa\",\n    muted: \"#f6f6f9\",\n    gray: \"#bababa\",\n    darkgray: \"#8d8d8d\",\n    highlight: \"hsla(205, 100%, 40%, 0.125)\",\n    box: \"#F1F4F4\",\n    disabled: \"#BDBDBD\",\n    modes: {\n      dark: {\n        primaryText: \"#CCC3FC\",\n        secondaryBackground: \"#363945\",\n        primary: \"#7C71FC\",\n\n        text: \"#FAFAFA\",\n        primaryButtonText: \"#FAFAFA\",\n        accent: \"#5352FC\",\n        background: \"#212121\",\n        secondary: \"#bababa\",\n        muted: \"#757575\",\n        gray: \"#bababa\",\n        darkgray: \"#BDBDBD\",\n        highlight: \"hsla(205, 100%, 40%, 0.125)\",\n        box: \"#363945\",\n        disabled: \"#BDBDBD\",\n      },\n    },\n  },\n  fonts: {\n    body: \"Roboto\",\n    heading: \"Roboto\",\n    monospace: \"Roboto\",\n  },\n  fontSizes: [12, 14, 16, 18, 20, 24, 28, 32, 48, 64, 96],\n  lineHeights: {\n    body: 1.5,\n    heading: 1.25,\n  },\n  space: [0, 4, 8, 16, 24, 32, 48, 64],\n  letterSpacings: {\n    small: \"-0.05em\",\n  },\n  sizes: {\n    avatar: 48,\n  },\n  shadows: {\n    card: \"0 0 4px rgba(0, 0, 0, .125)\",\n  },\n  text: {\n    default: {\n      color: \"text\",\n      fontFamily: \"body\",\n      fontWeight: \"500\",\n      fontSize: [18],\n      lineHeight: \"20px\",\n    },\n    primary: {\n      variant: \"text.default\",\n      color: \"primaryText\",\n    },\n    title: {\n      fontFamily: \"body\",\n      fontSize: [28],\n      lineHeight: \"42px\",\n    },\n    logo: {\n      fontFamily: \"body\",\n      fontSize: [20],\n      lineHeight: \"28px\",\n      letterSpacing: \"small\",\n    },\n    wallet: {\n      fontFamily: \"body\",\n      color: \"accent\",\n      fontSize: [12],\n      lineHeight: \"16px\",\n    },\n    account: {\n      fontFamily: \"body\",\n      color: \"primary\",\n      fontSize: [12],\n      lineHeight: \"16px\",\n    },\n    regular: {\n      fontFamily: \"body\",\n      fontSize: [18],\n      lineHeight: \"22px\",\n      color: \"text\",\n    },\n    regularGray: {\n      fontFamily: \"body\",\n      fontSize: [18],\n      lineHeight: \"22px\",\n      color: \"darkgray\",\n    },\n    bold: {\n      fontFamily: \"Bold\",\n      fontSize: 18,\n      lineHeight: \"20px\",\n      color: \"text\",\n    },\n    form: {\n      fontStyle: \"body\",\n      fontSize: [14],\n      lineHeight: \"16px\",\n      color: \"text\",\n    },\n    subtitle: {\n      fontStyle: \"body\",\n      fontSize: [20, 18],\n      lineHeight: [\"24px\", \"20px\"],\n      letterSpacing: \"-0.01rem\",\n      color: \"text\",\n    },\n    tableHeader: {\n      color: \"accent\",\n      fontFamily: \"body\",\n      fontSize: [14],\n      lineHeight: \"20px\",\n    },\n    summaryTitle: {\n      color: \"accent\",\n      fontFamily: \"body\",\n      fontSize: [14],\n      lineHeight: \"20px\",\n    },\n    largeNumber: {\n      fontFamily: \"body\",\n      fontSize: 24,\n      lineHeight: \"20px\",\n      color: \"text\",\n    },\n    reallyBigNumber: {\n      fontFamily: \"body\",\n      fontSize: 32,\n      lineHeight: \"20px\",\n      color: \"text\",\n    },\n  },\n  variants: {\n    avatar: {\n      width: \"avatar\",\n      height: \"avatar\",\n      borderRadius: \"circle\",\n    },\n    nav: {\n      fontSize: 1,\n      fontWeight: \"bold\",\n      display: \"inline-block\",\n      p: 2,\n      color: \"inherit\",\n      textDecoration: \"none\",\n      \":hover,:focus,.active\": {\n        color: \"primary\",\n      },\n    },\n  },\n  select: {\n    borderColor: \"gray\",\n    borderWidth: \"1.5px\",\n  },\n  input: {\n    borderColor: \"gray\",\n    borderWidth: \"1.5px\",\n  },\n  buttons: {\n    primary: {\n      \":disabled\": {\n        color: \"muted\",\n        cursor: \"auto\",\n        bg: \"disabled\",\n      },\n      fontFamily: \"body\",\n      fontSize: 16,\n      fontWeight: 500,\n      lineHeight: \"20px\",\n      cursor: \"pointer\",\n      borderRadius: \"6px\",\n      color: \"primaryButtonText\",\n      bg: \"primary\",\n      px: 4,\n      py: 2,\n    },\n    secondary: {\n      variant: \"buttons.primary\",\n      \":disabled\": {\n        borderColor: \"gray\",\n        color: \"gray\",\n        bg: \"transparent\",\n      },\n      color: \"primary\",\n      bg: \"transparent\",\n      border: \"1px solid\",\n      borderColor: \"primary\",\n    },\n    done: {\n      variant: \"buttons.secondary\",\n      color: \"accent\",\n    },\n    switcher: {\n      bg: \"transparent\",\n      borderRadius: 0,\n      fontFamily: \"body\",\n      borderBottom: \"2px solid transparent\",\n      color: \"text\",\n      \":focus\": {\n        outline: \"none\",\n      },\n      cursor: \"pointer\",\n      px: 0,\n      py: 1,\n      mr: 3,\n    },\n    switcherSelected: {\n      variant: \"buttons.switcher\",\n      borderBottom: \"2px solid\",\n      color: \"primaryText\",\n    },\n  },\n  styles: {\n    root: {\n      fontFamily: \"body\",\n      lineHeight: \"body\",\n    },\n    countdown: {\n      width: [\"180px\", \"320px\"],\n      height: [\"180px\", \"320px\"],\n      color: \"accent\",\n    },\n    a: {\n      \":visited\": {\n        color: \"primaryText\",\n      },\n      color: \"primaryText\",\n      cursor: \"pointer\",\n    },\n    h1: {\n      fontSize: 24,\n    },\n  },\n  cards: {\n    primary: {\n      padding: 2,\n      borderRadius: 4,\n      boxShadow: \"0 0 8px rgba(0, 0, 0, 0.125)\",\n      bg: \"box\",\n    },\n    compact: {\n      padding: 1,\n      borderRadius: 2,\n      border: \"1px solid\",\n      borderColor: \"muted\",\n    },\n    warning: {\n      backgroundColor: \"secondaryBackground\",\n      borderRadius: 4,\n      color: \"primaryText\",\n      px: 3,\n      py: 2,\n    },\n  },\n};\n\nexport default preset;\n","import { IIconProps } from \"./types\";\n\nexport const LogoIcon: React.FC<IIconProps> = ({ size = 32 }) => {\n  return (\n    <svg\n      width={size}\n      height={size / 1.23}\n      viewBox=\"0 0 938 762\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M839.854 527.329C893.784 527.329 937.5 483.613 937.5 429.712C937.5 375.753 893.784 332.036 839.854 332.036H800.771C800.771 148.66 652.141 0 468.75 0C285.359 0 136.729 148.66 136.729 332.036H97.6465C43.7164 332.036 0 375.753 0 429.712C0 483.615 43.7164 527.329 97.6465 527.329H201.817L242.902 588.955L103.455 728.403C95.8154 736.013 95.8154 748.372 103.455 756.011C111.064 763.651 123.453 763.651 131.063 756.011L281.611 605.493H449.209V742.192C449.209 747.171 451.126 752.206 454.931 756.011C462.57 763.651 474.93 763.651 482.569 756.011C486.374 752.206 488.291 747.171 488.291 742.192V605.493H655.975L806.523 756.011C814.133 763.651 826.492 763.651 834.131 756.011C841.771 748.372 841.771 736.013 834.131 728.403L694.656 588.898L735.683 527.329H839.854ZM198.783 218.011C213.545 183.135 234.661 151.793 261.583 124.871C288.505 97.9633 319.832 76.8347 354.708 62.0709C390.817 46.8072 429.183 39.0674 468.75 39.0674C508.317 39.0674 546.683 46.8072 582.79 62.0691C617.666 76.8311 648.994 97.9614 675.916 124.869C702.838 151.791 723.951 183.133 738.715 218.009C753.966 254.103 761.719 292.469 761.719 332.036H723.552C723.552 191.316 609.456 77.2485 468.75 77.2485C457.963 77.2485 449.209 85.9882 449.209 96.7749C449.209 107.562 457.963 116.301 468.75 116.301C526.371 116.301 580.558 138.746 621.299 179.487C662.04 220.243 684.47 274.417 684.47 332.036H175.781C175.781 292.469 183.506 254.103 198.783 218.011ZM97.6465 488.306C65.3448 488.306 39.0527 461.984 39.0527 429.712C39.0527 397.383 65.3448 371.104 97.6465 371.104H839.854C872.155 371.104 898.447 397.383 898.447 429.712C898.447 461.984 872.155 488.306 839.854 488.306H97.6465ZM371.104 566.411V527.329H449.209V566.411H371.104ZM332.021 566.411H274.801L248.765 527.329H332.021V566.411ZM488.291 527.329H566.396V566.411H488.291V527.329ZM605.479 527.329H688.735L662.699 566.411H605.479V527.329Z\" />\n      <path d=\"M234.375 410.142C223.588 410.142 214.834 418.896 214.834 429.712C214.834 440.469 223.588 449.224 234.375 449.224C245.162 449.224 253.916 440.469 253.916 429.712C253.916 418.898 245.162 410.142 234.375 410.142Z\" />\n      <path d=\"M390.615 410.142C379.829 410.142 371.104 418.896 371.104 429.712C371.104 440.469 379.83 449.224 390.615 449.224C401.4 449.224 410.156 440.469 410.156 429.712C410.156 418.898 401.402 410.142 390.615 410.142Z\" />\n      <path d=\"M546.885 410.142C536.098 410.142 527.344 418.896 527.344 429.712C527.344 440.469 536.098 449.224 546.885 449.224C557.672 449.224 566.396 440.469 566.396 429.712C566.396 418.898 557.67 410.142 546.885 410.142Z\" />\n      <path d=\"M703.125 410.142C692.338 410.142 683.584 418.896 683.584 429.712C683.584 440.469 692.338 449.224 703.125 449.224C713.912 449.224 722.666 440.469 722.666 429.712C722.666 418.898 713.912 410.142 703.125 410.142Z\" />\n    </svg>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/WhiteSearchIcon.024f9d3c.svg\";","export default __webpack_public_path__ + \"static/media/BlackSearchIcon.d5a1edab.svg\";","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Breakpoint, useBreakpoint } from \"src/hooks/useBreakpoint\";\nimport WhiteSearchIcon from \"src/icons/WhiteSearchIcon.svg\";\nimport BlackSearchIcon from \"src/icons/BlackSearchIcon.svg\";\nimport { Button, Flex, Input, useColorMode } from \"theme-ui\";\n\nconst SEARCH_HEIGHT = [56, 90];\nconst TRANSFORM = [\"translate(8px, 12px)\", \"translate(16px, 32px)\"];\n\ninterface IProps {\n  size?: \"small\" | \"large\";\n}\n\nexport const SearchBar: React.FC<IProps> = ({ size }) => {\n  const searchInput = React.useRef<any>(null);\n  const history = useHistory();\n  const breakpoint = useBreakpoint();\n  const [colorMode] = useColorMode();\n\n  let height;\n  let transform;\n  if (!size) {\n    height = SEARCH_HEIGHT;\n    transform = TRANSFORM;\n  } else if (size === \"small\") {\n    height = SEARCH_HEIGHT[0];\n    transform = TRANSFORM[0];\n  } else {\n    height = SEARCH_HEIGHT[1];\n    transform = TRANSFORM[1];\n  }\n\n  return (\n    <Flex\n      sx={{\n        \"form::before\": {\n          content: '\"\"',\n          position: \"absolute\",\n          height: 28,\n          width: 28,\n          transform: transform,\n          backgroundColor: \"var(--theme-ui-colors-text)\",\n          background: `url(${\n            colorMode === \"light\" ? BlackSearchIcon : WhiteSearchIcon\n          }) no-repeat`,\n        },\n        width: \"100%\",\n        justifyContent: \"center\",\n      }}\n    >\n      <form\n        style={{ width: \"100%\", maxWidth: 1000 }}\n        onSubmit={(e) => {\n          const searchTerm = searchInput?.current.value;\n          if (searchTerm && searchTerm !== \"\") {\n            history.push(`/${searchTerm}`);\n          }\n          e.preventDefault();\n        }}\n      >\n        <Flex>\n          <Input\n            sx={{\n              pl: [6, 7],\n              height: height,\n              width: \"100%\",\n              backgroundColor: \"secondaryBackground\",\n              border: \"none\",\n              borderRadius: \"6px 0 0 6px\",\n            }}\n            ref={searchInput}\n            placeholder=\"Search name\"\n          />\n          {breakpoint === Breakpoint.DESKTOP && (\n            <Button\n              sx={{ height: height, borderRadius: \"0 6px 6px 0\" }}\n              type=\"submit\"\n            >\n              Search\n            </Button>\n          )}\n        </Flex>\n      </form>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { Box, Flex, Heading } from \"theme-ui\";\nimport { LogoIcon } from \"src/icons/LogoIcon\";\nimport { SearchBar } from \"src/components/SearchBar\";\n\nexport const Search: React.FC = () => {\n  return (\n    <Flex\n      sx={{\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        mt: [\"33%\", \"10%\"],\n      }}\n    >\n      <Box sx={{ fill: \"text\" }}>\n        <LogoIcon size={128} />\n      </Box>\n      <Heading as=\"h1\" mb={4}>\n        Nomspace\n      </Heading>\n      <SearchBar />\n    </Flex>\n  );\n};\n","import { ChainId } from \"@celo-tools/use-contractkit\";\nimport { toWei } from \"web3-utils\";\n\nexport const NOM: Record<number, string> = {\n  [ChainId.Celo]: \"0xABf8faBbC071F320F222A526A2e1fBE26429344d\",\n  [ChainId.Alfajores]: \"0x36C976Da6A6499Cad683064F849afa69CD4dec2e\",\n  [ChainId.Baklava]: \"\",\n};\nexport const FEE_MODULE_V1 = \"0x07DDCB69Bc2637A6c03d5523696E21B688b42d65\";\n\nexport const DEFAULT_GAS_PRICE = toWei(\"0.13\", \"gwei\");\n","import { useEffect, useState } from \"react\";\n\nexport function useAsyncState<T>(\n  initialState: T,\n  asyncGetter: () => Promise<T> | undefined\n): [T, () => void] {\n  const [state, setState] = useState<T>(initialState);\n  const [dirty, setDirty] = useState<boolean>(true);\n  useEffect(() => {\n    asyncGetter()\n      ?.then((v) => {\n        setState(v);\n        setDirty(false);\n      })\n      .catch(console.warn);\n  }, [asyncGetter, dirty]);\n\n  const refetch = () => {\n    setDirty(true);\n  };\n\n  return [state, refetch];\n}\n","export const formatName = (name: string) => {\n  return name.toLowerCase().replace(\" \", \"\");\n};\n","import React from \"react\";\nimport NomMetadata from \"src/abis/nomspace/Nom.json\";\nimport { Nom } from \"src/generated/Nom\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { ethers } from \"ethers\";\nimport { NOM } from \"src/config\";\nimport { AbiItem } from \"web3-utils\";\nimport { useAsyncState } from \"./useAsyncState\";\nimport { formatName } from \"src/utils/name\";\n\nexport const useNom = (name: string) => {\n  const { kit, network } = useContractKit();\n  const nameFormatted = formatName(name);\n\n  const call = React.useCallback(async () => {\n    const nom = new kit.web3.eth.Contract(\n      NomMetadata.abi as AbiItem[],\n      NOM[network.chainId]\n    ) as unknown as Nom;\n\n    const resolution = await nom.methods\n      .resolve(ethers.utils.formatBytes32String(nameFormatted))\n      .call();\n\n    const owner = await nom.methods\n      .nameOwner(ethers.utils.formatBytes32String(nameFormatted))\n      .call();\n\n    const expiration = await nom.methods\n      .expirations(ethers.utils.formatBytes32String(nameFormatted))\n      .call();\n\n    return { resolution, owner, expiration };\n  }, [kit, network, nameFormatted]);\n\n  return useAsyncState(null, call);\n};\n","import React from \"react\";\nimport { Text, TextProps } from \"theme-ui\";\n\nexport const BlockText: React.FC<TextProps> = (props) => {\n  return <Text sx={{ ...props.sx, display: \"block\" }} {...props} />;\n};\n","export const shortenAddress = (\n  account: string | null,\n  truncation: number = 4\n) => {\n  if (!account) {\n    return \"0x????...????\";\n  }\n  return (\n    account.slice(0, truncation + 2) +\n    \"..\" +\n    account.slice(account.length - truncation - 1, account.length)\n  );\n};\n","import { useContractKit } from \"@celo-tools/use-contractkit\";\nimport React from \"react\";\nimport { Link } from \"theme-ui\";\n\nexport const BlockscoutTxLink: React.FC<{ tx: string }> = ({\n  tx,\n  children,\n}) => {\n  const { network } = useContractKit();\n  return (\n    <Link\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={`${network.explorer}/tx/${tx}`}\n      style={{ textDecoration: \"none\" }}\n    >\n      {children}\n    </Link>\n  );\n};\n","import { toast } from \"react-toastify\";\nimport { Text } from \"theme-ui\";\nimport { BlockscoutTxLink } from \"src/components/BlockscoutTxLink\";\n\nexport const toastTx = (tx: string) => {\n  toast(\n    <>\n      <Text>Transaction completed! </Text>\n      <BlockscoutTxLink tx={tx}>View on Blockscout</BlockscoutTxLink>\n    </>\n  );\n};\n","import Modal from \"react-modal\";\nimport QRCode from \"qrcode.react\";\nimport { Container, Heading } from \"theme-ui\";\n\ninterface IProps {\n  name: string;\n  address: string;\n  isOpen: boolean;\n  setIsOpen: (isOpen: boolean) => void;\n}\n\nexport const QRNameModal: React.FC<IProps> = ({\n  name,\n  address,\n  isOpen,\n  setIsOpen,\n}) => {\n  return (\n    <Modal\n      isOpen={isOpen}\n      onRequestClose={() => setIsOpen(false)}\n      contentLabel={name}\n      style={{\n        content: {\n          borderRadius: \"6px\",\n          position: \"absolute\",\n          backgroundColor: \"var(--theme-ui-colors-background)\",\n          width: \"fit-content\",\n          height: \"fit-content\",\n          top: \"calc(50% - 100px)\",\n          left: \"calc(50% - 100px)\",\n          margin: 0,\n          padding: \"32px\",\n        },\n      }}\n    >\n      <Container sx={{ textAlign: \"center\" }}>\n        <Heading as=\"h2\" mb={4}>\n          {name}.nom\n        </Heading>\n        <QRCode value={`celo://wallet/pay?address=${address}`} />\n      </Container>\n    </Modal>\n  );\n};\n","export const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\nexport const YEAR_IN_SECONDS = 31449600;\n","import { useContractKit } from \"@celo-tools/use-contractkit\";\nimport React from \"react\";\nimport { Link } from \"theme-ui\";\n\nexport const BlockscoutAddressLink: React.FC<{\n  address: string;\n}> = ({ address, children }) => {\n  const { network } = useContractKit();\n  return (\n    <Link\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={`${network.explorer}/address/${address}`}\n      style={{ textDecoration: \"none\" }}\n    >\n      {children}\n    </Link>\n  );\n};\n","import React from \"react\";\nimport { useNom } from \"src/hooks/useNom\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Box, Button, Card, Divider, Flex, Heading, Spinner } from \"theme-ui\";\nimport { ethers } from \"ethers\";\nimport { BlockText } from \"src/components/BlockText\";\nimport { shortenAddress } from \"src/utils/address\";\nimport NomMetadata from \"src/abis/nomspace/Nom.json\";\nimport ERC20Metadata from \"src/abis/nomspace/ERC20.json\";\nimport { Nom } from \"src/generated/Nom\";\nimport { DEFAULT_GAS_PRICE, NOM } from \"src/config\";\nimport { AbiItem, toWei } from \"web3-utils\";\nimport { toastTx } from \"src/utils/toastTx\";\nimport { toast } from \"react-toastify\";\nimport { isAddress } from \"ethers/lib/utils\";\nimport { QRNameModal } from \"src/components/QRNameModal\";\nimport { SearchBar } from \"src/components/SearchBar\";\nimport { ZERO_ADDRESS } from \"src/constants\";\nimport { formatName } from \"src/utils/name\";\nimport QRCode from \"qrcode.react\";\nimport { BlockscoutAddressLink } from \"src/components/BlockscoutAddressLink\";\nimport { ERC20 } from \"src/generated/ERC20\";\n\nexport const SearchDetail: React.FC = () => {\n  const { name } = useParams<{ name: string }>();\n  const nameFormatted = formatName(name);\n\n  const { address, getConnectedKit, network } = useContractKit();\n  const [nom, refetchNom] = useNom(nameFormatted);\n  const [changeResLoading, setChangeResLoading] = React.useState(false);\n  const [changeOwnerLoading, setChangeOwnerLoading] = React.useState(false);\n  const [showQR, setShowQR] = React.useState(false);\n  const history = useHistory();\n  const sendCUSD = React.useCallback(\n    async (amount: string) => {\n      const kit = await getConnectedKit();\n      if (!kit || !nom) {\n        return;\n      }\n      const cUSD = new kit.web3.eth.Contract(\n        ERC20Metadata.abi as AbiItem[],\n        \"0x765DE816845861e75A25fCA122bb6898B8B1282a\"\n      ) as unknown as ERC20;\n      const tx = await cUSD.methods\n        .transfer(nom.resolution, toWei(amount))\n        .send({ from: kit.defaultAccount, gasPrice: toWei(\"0.5\", \"gwei\") });\n      toastTx(tx.transactionHash);\n    },\n    [getConnectedKit, nom]\n  );\n\n  if (nom == null) {\n    return <Spinner />;\n  }\n  const isOwner = address && nom.owner.toLowerCase() === address.toLowerCase();\n\n  return (\n    <Flex\n      sx={{\n        alignItems: \"center\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Box sx={{ width: \"100%\", maxWidth: \"800px\" }} mb={4}>\n        <SearchBar size=\"small\" />\n      </Box>\n      <Box sx={{ textAlign: \"center\" }}>\n        <Card sx={{ width: \"100%\", maxWidth: \"800px\" }} py={4} px={3}>\n          <Heading as=\"h2\" mb={4}>\n            {name}.nom\n          </Heading>\n          <Flex sx={{ alignItems: \"center\", flexDirection: \"column\", mb: 2 }}>\n            <QRCode value={`celo://wallet/pay?address=${address}`} />\n            <Flex sx={{ alignItems: \"center\" }}>\n              <BlockscoutAddressLink address={nom.resolution}>\n                <BlockText mt={2}>\n                  {shortenAddress(nom.resolution, 5)}\n                </BlockText>\n              </BlockscoutAddressLink>\n              {changeResLoading ? (\n                <Spinner />\n              ) : (\n                <Button\n                  sx={{ p: 1, fontSize: 1, ml: 2, mt: 2 }}\n                  onClick={async () => {\n                    const kit = await getConnectedKit();\n                    // kit is connected to a wallet\n                    const nom = new kit.web3.eth.Contract(\n                      NomMetadata.abi as AbiItem[],\n                      NOM[network.chainId]\n                    ) as unknown as Nom;\n                    const nextResolution = prompt(\n                      \"Enter new resolution address\"\n                    );\n                    if (!nextResolution || !isAddress(nextResolution)) {\n                      alert(\"Invalid address. Please try again.\");\n                      return;\n                    }\n\n                    try {\n                      setChangeResLoading(true);\n                      const tx = await nom.methods\n                        .changeResolution(\n                          ethers.utils.formatBytes32String(nameFormatted),\n                          nextResolution\n                        )\n                        .send({\n                          from: kit.defaultAccount,\n                          gasPrice: DEFAULT_GAS_PRICE,\n                        });\n                      toastTx(tx.transactionHash);\n                      refetchNom();\n                    } catch (e: any) {\n                      toast(e.message);\n                    } finally {\n                      setChangeResLoading(false);\n                    }\n                  }}\n                  disabled={!isOwner}\n                >\n                  Change\n                </Button>\n              )}\n            </Flex>\n          </Flex>\n          {nom.owner !== ZERO_ADDRESS && isOwner && (\n            <>\n              <Divider />\n              <BlockText variant=\"primary\">Owner</BlockText>\n              <Flex\n                sx={{ alignItems: \"center\", justifyContent: \"center\", mb: 2 }}\n              >\n                <BlockText>{shortenAddress(nom.owner, 5)}</BlockText>\n                {changeOwnerLoading ? (\n                  <Spinner />\n                ) : (\n                  <Button\n                    sx={{ p: 1, fontSize: 1, ml: 2 }}\n                    onClick={async () => {\n                      const kit = await getConnectedKit();\n                      // kit is connected to a wallet\n                      const nom = new kit.web3.eth.Contract(\n                        NomMetadata.abi as AbiItem[],\n                        NOM[network.chainId]\n                      ) as unknown as Nom;\n                      const nextOwner = prompt(\"Enter new owner address\");\n                      if (!nextOwner || !isAddress(nextOwner)) {\n                        alert(\"Invalid address. Please try again.\");\n                        return;\n                      }\n\n                      try {\n                        setChangeOwnerLoading(true);\n                        const tx = await nom.methods\n                          .changeNameOwner(\n                            ethers.utils.formatBytes32String(nameFormatted),\n                            nextOwner\n                          )\n                          .send({\n                            from: kit.defaultAccount,\n                            gasPrice: DEFAULT_GAS_PRICE,\n                          });\n                        toastTx(tx.transactionHash);\n                        refetchNom();\n                      } catch (e: any) {\n                        toast(e.message);\n                      } finally {\n                        setChangeOwnerLoading(false);\n                      }\n                    }}\n                    disabled={!isOwner}\n                  >\n                    Transfer\n                  </Button>\n                )}\n              </Flex>\n            </>\n          )}\n          {nom.owner !== ZERO_ADDRESS && isOwner && (\n            <>\n              <BlockText variant=\"primary\">Expiration</BlockText>\n              <Flex\n                sx={{ alignItems: \"center\", justifyContent: \"center\", mb: 2 }}\n              >\n                <BlockText>\n                  {new Date(parseInt(nom.expiration) * 1000).toLocaleDateString(\n                    \"en-US\"\n                  )}\n                </BlockText>\n                <Button\n                  sx={{ p: 1, fontSize: 1, ml: 2 }}\n                  onClick={() => {\n                    history.push(`/${name}/extend`);\n                  }}\n                >\n                  Extend\n                </Button>\n              </Flex>\n              <Divider />\n            </>\n          )}\n          <br />\n          {nom.resolution !== ZERO_ADDRESS && (\n            <Flex sx={{ mt: 1, justifyContent: \"center\", flexWrap: \"wrap\" }}>\n              <Button\n                mr={2}\n                mb={1}\n                onClick={async () => {\n                  await sendCUSD(\"1\");\n                }}\n              >\n                Tip 1 cUSD\n              </Button>\n              <Button\n                mr={2}\n                mb={1}\n                onClick={async () => {\n                  await sendCUSD(\"5\");\n                }}\n              >\n                Tip 5 cUSD\n              </Button>\n              <Button\n                mr={2}\n                mb={1}\n                onClick={async () => {\n                  await sendCUSD(\"10\");\n                }}\n              >\n                Tip 10 cUSD\n              </Button>\n              <Button\n                mr={2}\n                mb={1}\n                onClick={async () => {\n                  const amount = prompt(\"Enter a custom tip amount\");\n                  if (\n                    amount === null ||\n                    isNaN(Number(amount)) ||\n                    Number(amount) <= 0\n                  ) {\n                    alert(\"Invalid amount specified\");\n                    return;\n                  }\n                  await sendCUSD(amount);\n                }}\n              >\n                Custom tip\n              </Button>\n            </Flex>\n          )}\n          <Flex sx={{ justifyContent: \"center\", mt: 6 }}>\n            {nom.owner === ZERO_ADDRESS ? (\n              <Button\n                onClick={() => {\n                  history.push(`/${name}/reserve`);\n                }}\n              >\n                Reserve\n              </Button>\n            ) : nom.owner === address ? (\n              <BlockText>You own this name!</BlockText>\n            ) : (\n              <BlockText>\n                Name has already been reserved by{\" \"}\n                <BlockscoutAddressLink address={nom.owner}>\n                  {shortenAddress(nom.owner)}\n                </BlockscoutAddressLink>\n              </BlockText>\n            )}\n          </Flex>\n        </Card>\n        {nom.resolution && nom.resolution !== ZERO_ADDRESS && (\n          <QRNameModal\n            name={name}\n            address={nom.resolution}\n            isOpen={showQR}\n            setIsOpen={setShowQR}\n          />\n        )}\n      </Box>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { StableToken } from \"@celo/contractkit\";\nimport { useAsyncState } from \"src/hooks/useAsyncState\";\nimport { FEE_MODULE_V1 } from \"src/config\";\nimport { toBN } from \"web3-utils\";\n\nexport const useCUSD = () => {\n  const { kit, address } = useContractKit();\n  const call = React.useCallback(async () => {\n    if (!address) {\n      return null;\n    }\n    const cUSD = await kit._web3Contracts.getStableToken(\n      StableToken.cUSD as any\n    );\n    const allowance = toBN(\n      await cUSD.methods.allowance(address, FEE_MODULE_V1).call()\n    );\n    const balance = toBN(await cUSD.methods.balanceOf(address).call());\n    return { allowance, balance };\n  }, [kit, address]);\n  return useAsyncState(null, call);\n};\n","import React from \"react\";\nimport { useContractKit, ChainId } from \"@celo-tools/use-contractkit\";\nimport { useAsyncState } from \"src/hooks/useAsyncState\";\nimport { FEE_MODULE_V1 } from \"src/config\";\nimport { toBN, AbiItem } from \"web3-utils\";\nimport FeeModuleV1Metadata from \"src/abis/nomspace/FeeModuleV1.json\";\nimport { FeeModuleV1 } from \"src/generated/FeeModuleV1\";\n\nexport const useNomFee = () => {\n  const { kit, network } = useContractKit();\n  const call = React.useCallback(async () => {\n    if (network.chainId === ChainId.Alfajores) {\n      return toBN(0);\n    }\n    const feeModule = new kit.web3.eth.Contract(\n      FeeModuleV1Metadata.abi as AbiItem[],\n      FEE_MODULE_V1\n    ) as unknown as FeeModuleV1;\n    return toBN(await feeModule.methods.paymentRate().call());\n  }, [kit, network]);\n  return useAsyncState(toBN(0), call);\n};\n","import React from \"react\";\nimport { useNom } from \"src/hooks/useNom\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Card,\n  Flex,\n  Heading,\n  Input,\n  Spinner,\n  Text,\n} from \"theme-ui\";\nimport { ethers } from \"ethers\";\nimport { BlockText } from \"src/components/BlockText\";\nimport NomMetadata from \"src/abis/nomspace/Nom.json\";\nimport { Nom } from \"src/generated/Nom\";\nimport { DEFAULT_GAS_PRICE, FEE_MODULE_V1, NOM } from \"src/config\";\nimport { AbiItem, toBN, toWei, fromWei } from \"web3-utils\";\nimport { toastTx } from \"src/utils/toastTx\";\nimport { toast } from \"react-toastify\";\nimport { CaretLeft, ArrowDown } from \"phosphor-react\";\nimport { SearchBar } from \"src/components/SearchBar\";\nimport { YEAR_IN_SECONDS, ZERO_ADDRESS } from \"src/constants\";\nimport { useCUSD } from \"src/hooks/useCUSD\";\nimport { StableToken } from \"@celo/contractkit\";\nimport { MaxUint256 } from \"@ethersproject/constants\";\nimport { useNomFee } from \"src/hooks/useNomFee\";\nimport { formatName } from \"src/utils/name\";\n\nexport const Reserve: React.FC = () => {\n  const { name } = useParams<{ name: string }>();\n  const nameFormatted = formatName(name);\n\n  const { getConnectedKit, network } = useContractKit();\n  const [nom, refetchNom] = useNom(nameFormatted);\n  const [years, setYears] = React.useState(\"1\");\n  const [cost, setCost] = React.useState(\"5\");\n  const [approveLoading, setApproveLoading] = React.useState(false);\n  const [reserveLoading, setReserveLoading] = React.useState(false);\n  const [cUSD, refetchCUSD] = useCUSD();\n  const [nomFee] = useNomFee();\n  const history = useHistory();\n\n  if (nom == null) {\n    return <Spinner />;\n  }\n\n  const approveButton = (\n    <Button\n      onClick={async () => {\n        const kit = await getConnectedKit();\n        // kit is connected to a wallet\n        try {\n          setApproveLoading(true);\n          const cUSD = await kit._web3Contracts.getStableToken(\n            StableToken.cUSD as any\n          );\n          const tx = await cUSD.methods\n            .approve(FEE_MODULE_V1, MaxUint256.toString())\n            .send({\n              from: kit.defaultAccount,\n              gasPrice: DEFAULT_GAS_PRICE,\n            });\n          toastTx(tx.transactionHash);\n          refetchCUSD();\n        } catch (e: any) {\n          toast(e.message);\n        } finally {\n          setApproveLoading(false);\n        }\n      }}\n    >\n      Approve\n    </Button>\n  );\n\n  const reserveButton = (\n    <Button\n      onClick={async () => {\n        const kit = await getConnectedKit();\n        // kit is connected to a wallet\n        const nom = new kit.web3.eth.Contract(\n          NomMetadata.abi as AbiItem[],\n          NOM[network.chainId]\n        ) as unknown as Nom;\n\n        try {\n          setReserveLoading(true);\n          const tx = await nom.methods\n            .reserve(\n              ethers.utils.formatBytes32String(nameFormatted),\n              Math.floor(Number(years) * YEAR_IN_SECONDS)\n            )\n            .send({\n              from: kit.defaultAccount,\n              gasPrice: DEFAULT_GAS_PRICE,\n            });\n          toastTx(tx.transactionHash);\n          refetchNom();\n        } catch (e: any) {\n          toast(e.message);\n        } finally {\n          setReserveLoading(false);\n        }\n      }}\n    >\n      Reserve\n    </Button>\n  );\n\n  const loading = approveLoading || reserveLoading;\n  let button = approveButton;\n  if (cUSD) {\n    const fmtCost = cost === \"\" ? \"0\" : cost;\n    const costBN = toBN(toWei(fmtCost));\n    if (cUSD.balance.lt(costBN)) {\n      button = <Button disabled={true}>Insufficient funds</Button>;\n    } else if (cUSD.allowance.gt(costBN)) {\n      button = reserveButton;\n    }\n  }\n\n  return (\n    <Flex sx={{ alignItems: \"center\", flexDirection: \"column\" }}>\n      <Box sx={{ width: \"100%\", maxWidth: \"800px\" }} mb={4}>\n        <SearchBar size=\"small\" />\n      </Box>\n      <Card sx={{ width: \"100%\", maxWidth: \"800px\" }} py={4} px={3}>\n        <Flex\n          onClick={() => history.goBack()}\n          sx={{ alignItems: \"center\", cursor: \"pointer\" }}\n          mb={4}\n        >\n          <CaretLeft size={28} />\n          <Text>Back</Text>\n        </Flex>\n        <Flex mb={4}>\n          <Heading as=\"h2\" mr={2}>\n            Reserve\n          </Heading>\n          <Heading color=\"primaryText\">{name}.nom</Heading>\n        </Flex>\n        <Text variant=\"form\">Years to reserve</Text>\n        <Flex sx={{ alignItems: \"center\" }}>\n          <Input\n            type=\"number\"\n            value={years}\n            onChange={(e) => {\n              const years = e.target.value;\n              setYears(years);\n              setCost(\n                (\n                  Number(years) *\n                  YEAR_IN_SECONDS *\n                  Number(fromWei(nomFee))\n                ).toString()\n              );\n            }}\n            mr={2}\n          />\n          <Text>year(s)</Text>\n        </Flex>\n        <Box mt={2} sx={{ textAlign: \"center\" }}>\n          <ArrowDown size={32} />\n        </Box>\n        <Flex sx={{ alignItems: \"center\" }}>\n          <Box sx={{ width: \"100%\" }} mr={2}>\n            <Flex sx={{ justifyContent: \"space-between\", mb: 1 }}>\n              <Text variant=\"form\">Cost</Text>\n              <Text\n                sx={{ color: \"primaryText\", cursor: \"pointer\" }}\n                variant=\"form\"\n                onClick={() => {\n                  if (cUSD) {\n                    const cost = fromWei(cUSD.balance);\n                    setCost(cost);\n                    setYears(\n                      (\n                        Number(cost) /\n                        YEAR_IN_SECONDS /\n                        Number(fromWei(nomFee))\n                      ).toString()\n                    );\n                  }\n                }}\n              >\n                max: {cUSD ? Number(fromWei(cUSD.balance)).toFixed(4) : \"0\"}\n              </Text>\n            </Flex>\n            <Input\n              sx={{ width: \"100%\" }}\n              value={cost}\n              onChange={(e) => {\n                const cost = e.target.value;\n                setCost(cost);\n                setYears(\n                  (\n                    Number(cost) /\n                    YEAR_IN_SECONDS /\n                    Number(fromWei(nomFee))\n                  ).toString()\n                );\n              }}\n            />\n          </Box>\n          <Text mt={3}>cUSD</Text>\n        </Flex>\n        <Flex sx={{ justifyContent: \"center\", mt: 6 }}>\n          {nom.owner === ZERO_ADDRESS ? (\n            loading ? (\n              <Spinner />\n            ) : (\n              button\n            )\n          ) : (\n            <BlockText>Name has already been reserved.</BlockText>\n          )}\n        </Flex>\n      </Card>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { useNom } from \"src/hooks/useNom\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Card,\n  Flex,\n  Heading,\n  Input,\n  Spinner,\n  Text,\n} from \"theme-ui\";\nimport { ethers } from \"ethers\";\nimport { BlockText } from \"src/components/BlockText\";\nimport NomMetadata from \"src/abis/nomspace/Nom.json\";\nimport { Nom } from \"src/generated/Nom\";\nimport { DEFAULT_GAS_PRICE, FEE_MODULE_V1, NOM } from \"src/config\";\nimport { AbiItem, toBN, toWei, fromWei } from \"web3-utils\";\nimport { toastTx } from \"src/utils/toastTx\";\nimport { toast } from \"react-toastify\";\nimport { CaretLeft, ArrowDown } from \"phosphor-react\";\nimport { SearchBar } from \"src/components/SearchBar\";\nimport { YEAR_IN_SECONDS, ZERO_ADDRESS } from \"src/constants\";\nimport { useCUSD } from \"src/hooks/useCUSD\";\nimport { StableToken } from \"@celo/contractkit\";\nimport { MaxUint256 } from \"@ethersproject/constants\";\nimport { useNomFee } from \"src/hooks/useNomFee\";\nimport { formatName } from \"src/utils/name\";\n\nexport const Extend: React.FC = () => {\n  const { name } = useParams<{ name: string }>();\n  const nameFormatted = formatName(name);\n\n  const { getConnectedKit, network } = useContractKit();\n  const [nom, refetchNom] = useNom(nameFormatted);\n  const [years, setYears] = React.useState(\"1\");\n  const [cost, setCost] = React.useState(\"5\");\n  const [approveLoading, setApproveLoading] = React.useState(false);\n  const [extendLoading, setExtendLoading] = React.useState(false);\n  const [cUSD, refetchCUSD] = useCUSD();\n  const [nomFee] = useNomFee();\n  const history = useHistory();\n\n  if (nom == null) {\n    return <Spinner />;\n  }\n\n  const approveButton = (\n    <Button\n      onClick={async () => {\n        const kit = await getConnectedKit();\n        // kit is connected to a wallet\n        try {\n          setApproveLoading(true);\n          const cUSD = await kit._web3Contracts.getStableToken(\n            StableToken.cUSD as any\n          );\n          const tx = await cUSD.methods\n            .approve(FEE_MODULE_V1, MaxUint256.toString())\n            .send({\n              from: kit.defaultAccount,\n              gasPrice: DEFAULT_GAS_PRICE,\n            });\n          toastTx(tx.transactionHash);\n          refetchCUSD();\n        } catch (e: any) {\n          toast(e.message);\n        } finally {\n          setApproveLoading(false);\n        }\n      }}\n    >\n      Approve\n    </Button>\n  );\n\n  const extendButton = (\n    <Button\n      onClick={async () => {\n        const kit = await getConnectedKit();\n        // kit is connected to a wallet\n        const nom = new kit.web3.eth.Contract(\n          NomMetadata.abi as AbiItem[],\n          NOM[network.chainId]\n        ) as unknown as Nom;\n\n        try {\n          setExtendLoading(true);\n          const tx = await nom.methods\n            .extend(\n              ethers.utils.formatBytes32String(nameFormatted),\n              Math.floor(Number(years) * YEAR_IN_SECONDS)\n            )\n            .send({\n              from: kit.defaultAccount,\n              gasPrice: DEFAULT_GAS_PRICE,\n            });\n          toastTx(tx.transactionHash);\n          refetchNom();\n        } catch (e: any) {\n          toast(e.message);\n        } finally {\n          setExtendLoading(false);\n        }\n      }}\n    >\n      Extend\n    </Button>\n  );\n\n  const loading = approveLoading || extendLoading;\n  let button = approveButton;\n  if (cUSD) {\n    const fmtCost = cost === \"\" ? \"0\" : cost;\n    const costBN = toBN(toWei(fmtCost));\n    if (cUSD.balance.lt(costBN)) {\n      button = <Button disabled={true}>Insufficient funds</Button>;\n    } else if (cUSD.allowance.gt(costBN)) {\n      button = extendButton;\n    }\n  }\n\n  return (\n    <Flex sx={{ alignItems: \"center\", flexDirection: \"column\" }}>\n      <Box sx={{ width: \"100%\", maxWidth: \"800px\" }} mb={4}>\n        <SearchBar size=\"small\" />\n      </Box>\n      <Card sx={{ width: \"100%\", maxWidth: \"800px\" }} py={4} px={3}>\n        <Flex\n          onClick={() => history.goBack()}\n          sx={{ alignItems: \"center\", cursor: \"pointer\" }}\n          mb={4}\n        >\n          <CaretLeft size={28} />\n          <Text>Back</Text>\n        </Flex>\n        <Flex mb={2}>\n          <Heading as=\"h2\" mr={2}>\n            Extend\n          </Heading>\n          <Heading color=\"primaryText\">{name}.nom</Heading>\n        </Flex>\n        <Flex mb={4}>\n          <Heading as=\"h2\" mr={2}>\n            New Expiration\n          </Heading>\n          <Heading color=\"primaryText\">\n            {new Date(\n              (parseInt(nom.expiration) +\n                Math.floor(Number(years) * YEAR_IN_SECONDS)) *\n                1000\n            ).toLocaleDateString(\"en-US\")}\n          </Heading>\n        </Flex>\n        <Text variant=\"form\">Years to extend</Text>\n        <Flex sx={{ alignItems: \"center\" }}>\n          <Input\n            type=\"number\"\n            value={years}\n            onChange={(e) => {\n              const years = e.target.value;\n              setYears(years);\n              setCost(\n                (\n                  Number(years) *\n                  YEAR_IN_SECONDS *\n                  Number(fromWei(nomFee))\n                ).toString()\n              );\n            }}\n            mr={2}\n          />\n          <Text>year(s)</Text>\n        </Flex>\n        <Box mt={2} sx={{ textAlign: \"center\" }}>\n          <ArrowDown size={32} />\n        </Box>\n        <Flex sx={{ alignItems: \"center\" }}>\n          <Box sx={{ width: \"100%\" }} mr={2}>\n            <Flex sx={{ justifyContent: \"space-between\", mb: 1 }}>\n              <Text variant=\"form\">Cost</Text>\n              <Text\n                sx={{ color: \"primaryText\", cursor: \"pointer\" }}\n                variant=\"form\"\n                onClick={() => {\n                  if (cUSD) {\n                    const cost = fromWei(cUSD.balance);\n                    setCost(cost);\n                    setYears(\n                      (\n                        Number(cost) /\n                        YEAR_IN_SECONDS /\n                        Number(fromWei(nomFee))\n                      ).toString()\n                    );\n                  }\n                }}\n              >\n                max: {cUSD ? Number(fromWei(cUSD.balance)).toFixed(4) : \"0\"}\n              </Text>\n            </Flex>\n            <Input\n              sx={{ width: \"100%\" }}\n              value={cost}\n              onChange={(e) => {\n                const cost = e.target.value;\n                setCost(cost);\n                setYears(\n                  (\n                    Number(cost) /\n                    YEAR_IN_SECONDS /\n                    Number(fromWei(nomFee))\n                  ).toString()\n                );\n              }}\n            />\n          </Box>\n          <Text mt={3}>cUSD</Text>\n        </Flex>\n        <Flex sx={{ justifyContent: \"center\", mt: 6 }}>\n          {nom.owner !== ZERO_ADDRESS ? (\n            loading ? (\n              <Spinner />\n            ) : (\n              button\n            )\n          ) : (\n            <BlockText>Name is not reserved.</BlockText>\n          )}\n        </Flex>\n      </Card>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { useNom } from \"src/hooks/useNom\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { useParams, useHistory, useLocation, Link } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Card,\n  Flex,\n  Heading,\n  Input,\n  Spinner,\n  Text,\n} from \"theme-ui\";\nimport { BlockText } from \"src/components/BlockText\";\nimport { toWei } from \"web3-utils\";\nimport { toastTx } from \"src/utils/toastTx\";\nimport { CaretLeft } from \"phosphor-react\";\nimport { SearchBar } from \"src/components/SearchBar\";\nimport { ZERO_ADDRESS } from \"src/constants\";\nimport { StableToken } from \"@celo/contractkit\";\nimport { formatName } from \"src/utils/name\";\nimport { Page } from \"src/state/global\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport const Request: React.FC = () => {\n  const query = useQuery();\n  const amount = query.get(\"amount\");\n  const { name } = useParams<{ name: string }>();\n  const nameFormatted = formatName(name);\n\n  const { getConnectedKit } = useContractKit();\n  const [nom] = useNom(nameFormatted);\n  const [fulfillLoading, setFulfillLoading] = React.useState(false);\n  const history = useHistory();\n  const sendCUSD = React.useCallback(\n    async (amount: string) => {\n      const kit = await getConnectedKit();\n      if (!kit || !nom) {\n        return;\n      }\n      const cUSD = await kit.contracts.getStableToken(StableToken.cUSD as any);\n      const tx = await cUSD\n        .transfer(nom.resolution, toWei(amount))\n        .send({ from: kit.defaultAccount, gasPrice: toWei(\"0.5\", \"gwei\") });\n      toastTx(await tx.getHash());\n      history.push(`/${Page.SEARCH}/${name}`);\n    },\n    [getConnectedKit, history, name, nom]\n  );\n\n  if (nom == null) {\n    return <Spinner />;\n  }\n\n  if (amount == null) {\n    return (\n      <Text>\n        Invalid request amount.{\" \"}\n        <Link style={{ textDecoration: \"none\" }} to=\"/\">\n          <Text sx={{ color: \"primary\" }}>Return home</Text>\n        </Link>\n      </Text>\n    );\n  }\n\n  const button = (\n    <Button\n      onClick={async () => {\n        setFulfillLoading(true);\n        await sendCUSD(amount).finally(() => setFulfillLoading(false));\n      }}\n    >\n      Fulfill\n    </Button>\n  );\n\n  return (\n    <Flex sx={{ alignItems: \"center\", flexDirection: \"column\" }}>\n      <Box sx={{ width: \"100%\", maxWidth: \"800px\" }} mb={4}>\n        <SearchBar size=\"small\" />\n      </Box>\n      <Card sx={{ width: \"100%\", maxWidth: \"800px\" }} py={4} px={3}>\n        <Flex\n          onClick={() => history.push(`/${Page.SEARCH}/${name}`)}\n          sx={{ alignItems: \"center\", cursor: \"pointer\" }}\n          mb={4}\n        >\n          <CaretLeft size={28} />\n          <Text>Back</Text>\n        </Flex>\n        <Flex mb={4}>\n          <Heading as=\"h2\" mr={2}>\n            Fulfill request for\n          </Heading>\n          <Heading color=\"primaryText\">{name}.nom</Heading>\n        </Flex>\n        <Flex sx={{ alignItems: \"center\" }}>\n          <Box sx={{ width: \"100%\" }} mr={2}>\n            <Flex sx={{ justifyContent: \"space-between\", mb: 1 }}>\n              <Text variant=\"form\">Amount</Text>\n            </Flex>\n            <Input sx={{ width: \"100%\" }} value={amount} readOnly />\n          </Box>\n          <Text mt={3}>cUSD</Text>\n        </Flex>\n        <Flex sx={{ justifyContent: \"center\", mt: 6 }}>\n          {nom.owner !== ZERO_ADDRESS ? (\n            fulfillLoading ? (\n              <Spinner />\n            ) : (\n              button\n            )\n          ) : (\n            <BlockText>Name is not reserved.</BlockText>\n          )}\n        </Flex>\n      </Card>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Box, Flex, Text } from \"theme-ui\";\nimport { LogoIcon } from \"src/icons/LogoIcon\";\nimport { Breakpoint, useBreakpoint } from \"src/hooks/useBreakpoint\";\n\nexport const Logo: React.FC = () => {\n  const history = useHistory();\n  const breakpoint = useBreakpoint();\n  return (\n    <Flex\n      sx={{ cursor: \"pointer\" }}\n      onClick={() => {\n        history.push(\"/\");\n      }}\n    >\n      <Box sx={{ fill: \"text\" }} mr={2}>\n        <LogoIcon />\n      </Box>\n      {breakpoint === Breakpoint.DESKTOP && (\n        <Text variant=\"logo\">Nomspace</Text>\n      )}\n    </Flex>\n  );\n};\n","import { useContractKit } from \"@celo-tools/use-contractkit\";\nimport React from \"react\";\nimport { Card, Text, Flex } from \"theme-ui\";\nimport { shortenAddress } from \"src/utils/address\";\nimport { Wallet } from \"phosphor-react\";\n\nexport const ConnectWallet: React.FC = () => {\n  const { address, connect } = useContractKit();\n  return (\n    <Card\n      sx={{ cursor: \"pointer\", height: \"fit-content\" }}\n      onClick={async () => {\n        try {\n          await connect();\n        } catch (e) {\n          console.warn(e);\n        }\n      }}\n      px={3}\n    >\n      <Flex sx={{ alignItems: \"center\" }}>\n        <Wallet size={28} />\n        <Text ml={3}>\n          {address ? shortenAddress(address) : \"Connect Wallet\"}\n        </Text>\n      </Flex>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport { Box, Button, Flex, Spinner, useColorMode } from \"theme-ui\";\nimport { Logo } from \"src/components/Logo\";\nimport { ConnectWallet } from \"src/components/ConnectWallet\";\nimport { useLocation } from \"react-router-dom\";\nimport { Moon, Sun } from \"phosphor-react\";\nimport { useUserNoms } from \"src/hooks/useUserNoms\";\n\nexport const Header: React.FC = () => {\n  const location = useLocation();\n  const [colorMode, setColorMode] = useColorMode();\n  const [userNoms] = useUserNoms();\n  return (\n    <Flex sx={{ justifyContent: \"space-between\", alignItems: \"center\" }} mb={4}>\n      {location.pathname === \"/search\" ? <Box /> : <Logo />}\n      <Flex>\n        {userNoms ? (\n          <Button\n            onClick={() => {\n              alert(userNoms);\n            }}\n            sx={{\n              color: \"var(--theme-ui-colors-text)\",\n              border: \"1px solid var(--theme-ui-colors-text)\",\n              background: \"transparent\",\n              px: [1, 2],\n              py: 1,\n              mr: [1, 4],\n            }}\n          >\n            My Noms\n          </Button>\n        ) : (\n          <Spinner mr={[1, 4]} />\n        )}\n        <Flex\n          sx={{\n            alignItems: \"center\",\n            backgroundColor: \"secondaryBackground\",\n            mr: [1, 4],\n            px: 2,\n            cursor: \"pointer\",\n            borderRadius: \"6px\",\n          }}\n          onClick={() => {\n            if (colorMode === \"light\") {\n              setColorMode(\"dark\");\n            } else {\n              setColorMode(\"light\");\n            }\n          }}\n        >\n          {colorMode === \"light\" ? <Sun size={28} /> : <Moon size={28} />}\n        </Flex>\n        <ConnectWallet />\n      </Flex>\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { NOM } from \"src/config\";\nimport { useAsyncState } from \"./useAsyncState\";\nimport { NomKit } from \"@nomspace/nomspace\";\n\nexport const useUserNoms = () => {\n  const { kit, network, address } = useContractKit();\n\n  const call = React.useCallback(async () => {\n    if (!address) {\n      return null;\n    }\n    const nomKit = new NomKit(kit as any, NOM[network.chainId]!);\n    return await nomKit.userNoms(address);\n  }, [kit, network.chainId, address]);\n\n  return useAsyncState(null, call);\n};\n","import React from \"react\";\nimport { Box, Flex, Link } from \"theme-ui\";\nimport { GithubLogo, TwitterLogo, DiscordLogo } from \"phosphor-react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport const Footer: React.FC = () => {\n  const location = useLocation();\n\n  if (location.pathname !== \"/search\") {\n    return null;\n  }\n\n  return (\n    <Box\n      sx={{\n        position: \"absolute\",\n        width: \"100%\",\n        bottom: 0,\n        pb: 4,\n      }}\n    >\n      <Flex sx={{ justifyContent: \"center\" }}>\n        <Link\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://github.com/nomspace\"\n          style={{ textDecoration: \"none\" }}\n          mr={2}\n        >\n          <GithubLogo size={32} />\n        </Link>\n        <Link\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://twitter.com/nomspace_nom\"\n          style={{ textDecoration: \"none\" }}\n          mr={2}\n        >\n          <TwitterLogo size={32} />\n        </Link>\n        <Link\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://discord.gg/WPYZC7ZTcY\"\n          style={{ textDecoration: \"none\" }}\n        >\n          <DiscordLogo size={32} />\n        </Link>\n      </Flex>\n    </Box>\n  );\n};\n","import React from \"react\";\nimport { Container } from \"theme-ui\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { Search } from \"src/pages/Search\";\nimport { SearchDetail } from \"src/pages/SearchDetail\";\nimport { Reserve } from \"src/pages/Reserve\";\nimport { Extend } from \"src/pages/Extend\";\nimport { Request } from \"src/pages/Request\";\nimport { Header } from \"src/components/Header\";\nimport Modal from \"react-modal\";\nimport { Footer } from \"src/components/Footer\";\nimport { ToastContainer } from \"react-toastify\";\n\nconst App: React.FC = () => {\n  React.useEffect(() => {\n    Modal.setAppElement(\"body\");\n  });\n\n  return (\n    <Container sx={{ maxWidth: \"100%\", width: \"auto\" }}>\n      <Container sx={{ py: 6, px: [4, \"15%\"] }}>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\">\n            <Search />\n          </Route>\n          <Route exact path=\"/:name\">\n            <SearchDetail />\n          </Route>\n          <Route exact path=\"/:name/reserve\">\n            <Reserve />\n          </Route>\n          <Route exact path=\"/:name/request\">\n            <Request />\n          </Route>\n          <Route exact path=\"/:name/extend\">\n            <Extend />\n          </Route>\n        </Switch>\n      </Container>\n      <Footer />\n      <ToastContainer\n        style={{ background: \"var(--theme-ui-colors-background)\" }}\n        toastClassName=\"toast-body\"\n        bodyClassName=\"toast-body\"\n      />\n    </Container>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/.exec(\n      window.location.hostname\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        void navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        void navigator.serviceWorker.ready.then((registration) => {\n          return registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister(): void {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        return registration.unregister();\n      })\n      .catch((error: Error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import \"react-app-polyfill/stable\";\nimport \"@celo-tools/use-contractkit/lib/styles.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport \"src/index.css\";\n\nimport {\n  Alfajores,\n  Celo,\n  ContractKitProvider,\n} from \"@celo-tools/use-contractkit\";\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"src/state\";\nimport theme from \"src/theme\";\nimport { ThemeProvider } from \"theme-ui\";\nimport { HashRouter as Router } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nif (process.env.REACT_APP_SENTRY_DSN) {\n  const sentryCfg = {\n    environment: `${process.env.REACT_APP_VERCEL_ENV ?? \"unknown\"}`,\n    release: `${\n      process.env.REACT_APP_VERCEL_GIT_COMMIT_REF?.replace(/\\//g, \"--\") ??\n      \"unknown\"\n    }-${process.env.REACT_APP_VERCEL_GIT_COMMIT_SHA ?? \"unknown\"}`,\n  };\n  Sentry.init({\n    dsn: process.env.REACT_APP_SENTRY_DSN,\n    integrations: [new Integrations.BrowserTracing()],\n    tracesSampleRate: 0.2,\n    ...sentryCfg,\n  });\n  console.log(\n    `Initializing Sentry environment at release ${sentryCfg.release} in environment ${sentryCfg.environment}`\n  );\n} else {\n  console.warn(`REACT_APP_SENTRY_DSN not found. Sentry will not be loaded.`);\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContractKitProvider\n      dapp={{\n        name: \"Nomspace\",\n        description: \"Protocol for name registration\",\n        url: \"https://app.nom.space\",\n        icon: \"https://www.nom.space/favicon-32x32.png\",\n        supportedNetworks: [Celo, Alfajores],\n      }}\n    >\n      <ThemeProvider theme={theme}>\n        <Provider store={store}>\n          <Router>\n            <App />\n          </Router>\n        </Provider>\n      </ThemeProvider>\n    </ContractKitProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}